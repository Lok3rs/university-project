<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Mail template for ticket stage update (QWeb for Odoo 18) -->
    <record id="mail_template_ticket_stage_update" model="mail.template">
        <field name="name">Ticket status updated</field>
        <field name="model_id" ref="model_helpdesk_ticket"/>
        <field name="subject">[Helpdesk] Ticket status updated</field>
        <field name="email_from"/>
        <field name="auto_delete" eval="True"/>
        <field name="body_html" type="html">
            <div>
                <p>Hello,</p>
                <p>The ticket <strong><t t-out="object.name"/></strong> has changed status to <strong><t t-out="object.stage"/></strong>.</p>
                <p><strong>Customer:</strong> <t t-out="(object.partner_id.display_name or '-')"/><br/>
                   <strong>Assignee:</strong> <t t-out="(object.assignee_id.display_name or '-')"/><br/>
                   <strong>Priority:</strong> <t t-out="(object.priority or '-')"/><br/>
                   <strong>SLA Deadline:</strong> <t t-out="(object.sla_deadline or '-')"/>
                </p>
                <p>Description:</p>
                <p><t t-out="object.description or ''"/></p>
                <p>You can view this ticket here: <a t-att-href="'/my/helpdesk/%s' % object.id">View Ticket</a></p>
                <p>--<br/>This is an automated notification.</p>
            </div>
        </field>
    </record>
</odoo>
